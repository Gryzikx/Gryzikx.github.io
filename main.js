webpackJsonp([0],{122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Videos="/",t.AddVideo="/new-video"},1773:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(196),s=n(272),u=n(122),c=n(283),d=function(e){function AddVideo(t){var n=e.call(this,t)||this;return n.invalidLinkMsg="To nie jest link do YouTube koleszko ;)",n.noNameMsg="Powiedz jeszcze jak się nazywasz, albo że się wstydzisz :P",n.handleCheck=function(e,t){return n.setState({IsAnonymous:t})},n.handleLink=function(e,t){return n.setState({Link:t})},n.handleName=function(e,t){return n.setState({Name:t})},n.handleAdding=function(){return r(n,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.isFormValid()?(e={Link:this.state.Link,Uploader:this.state.IsAnonymous?"Anonim":this.state.Name,UploadDate:new Date(Date.now())},[4,c.default.put("http://gryzvegasvol2.azurewebsites.net/api/videos",e)]):[2];case 1:return t.sent(),this.props.history.push(u.Videos),[2]}})})},n.isFormValid=function(){return n.isYouTubeLink(n.state.Link)?(n.setState({IsLinkValid:!0}),0!==n.state.Name.length||n.state.IsAnonymous?(n.setState({IsName:!0}),!0):(n.setState({IsName:!1}),!1)):(n.setState({IsLinkValid:!1}),!1)},n.isYouTubeLink=function(e){var t=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return!!e.match(t)&&RegExp.$1},n.state={Link:"",IsLinkValid:!0,Name:"",IsName:!0,IsAnonymous:!1},n}return o(AddVideo,e),AddVideo.prototype.render=function(){return a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"200px"}},a.createElement(l.Card,{style:{width:"800px"}},a.createElement(l.CardHeader,{title:"Dodaj nową piosenkę"}),a.createElement(l.CardText,null,a.createElement("div",{style:{display:"flex",justifyContent:"space-around",flexFlow:"column",marginLeft:"30px"}},a.createElement(l.TextField,{hintText:"Link YouTube",floatingLabelText:"Link YouTube",onChange:this.handleLink,errorText:this.state.IsLinkValid?"":this.invalidLinkMsg}),a.createElement(l.TextField,{hintText:"Kto wrzuca",floatingLabelText:"Kto wrzuca",onChange:this.handleName,disabled:this.state.IsAnonymous,errorText:this.state.IsName?"":this.noNameMsg}),a.createElement(l.Checkbox,{label:"Wstydzę się tej piosenki, więc nie chcę podawać imienia ...",style:{marginTop:"35px"},onCheck:this.handleCheck}),a.createElement(l.FloatingActionButton,{style:{marginTop:"20px",marginRight:"20px",alignSelf:"flex-end"},backgroundColor:"#64DD17",onClick:this.handleAdding},a.createElement(s.ContentAdd,null))))))},AddVideo}(a.Component);t.AddVideo=d},407:function(e,t,n){n(408),e.exports=n(409)},408:function(e,t){},409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(19),i=n(500),a=n(117),l=n(1774),s=o.createElement(l.MuiThemeProvider,null,o.createElement(a.BrowserRouter,null,o.createElement(i.App,null)));!function(){r.render(s,document.getElementById("root"))}()},500:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(117),a=n(122),l=n(528),s=n(1773),u=function(e){function App(t){return e.call(this,t)||this}return o(App,e),App.prototype.render=function(){return r.createElement("div",null,r.createElement(i.Switch,null,r.createElement(i.Route,{exact:!0,path:a.Videos,component:l.Videos}),r.createElement(i.Route,{exact:!0,path:a.AddVideo,component:s.AddVideo})))},App}(r.Component);t.App=u},528:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function fulfilled(e){try{step(o.next(e))}catch(e){i(e)}}function rejected(e){try{step(o.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(196),s=n(272),u=n(117),c=n(122),d=n(1668),f=n(283),p=n(4),h=(function(){function VotedVideo(){}}(),function(e){function Videos(t){var n=e.call(this,t)||this;return n.opts={height:"245",width:"400"},n.fetch=function(){f.default.get("http://gryzvegasvol2.azurewebsites.net/api/videos").then(n.updateState)},n.updateState=function(e){var t=e.data;n.state.isTimeOrdered?n.sortByDate(t):n.sortByScore(t)},n.sortByDate=function(e){var t=e.slice();t.sort(function(e,t){return p(t.uploadDate).valueOf()-p(e.uploadDate).valueOf()}),n.setState({songs:t})},n.sortByScore=function(e){var t=e.slice();t.sort(function(e,t){return t.score-e.score}),n.setState({songs:t})},n.upvote=function(e){return r(n,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return t={Id:e},[4,f.default.post("http://gryzvegasvol2.azurewebsites.net/api/videos/upvote",t)];case 1:return n.sent(),this.fetch(),[2]}})})},n.downvote=function(e){return r(n,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return t={Id:e},[4,f.default.post("http://gryzvegasvol2.azurewebsites.net/api/videos/downvote",t)];case 1:return n.sent(),this.fetch(),[2]}})})},n.state={songs:[],isTimeOrdered:!0},n}return o(Videos,e),Videos.prototype.componentDidMount=function(){this.fetch()},Videos.prototype.render=function(){var e=this;return p.locale("pl-PL"),console.log(this.state.songs),a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"600px",margin:"auto",marginTop:"20px"}},a.createElement(u.Link,{to:c.AddVideo,style:{width:"400px"}},a.createElement(l.RaisedButton,{label:"Dodaj swoją piosenkę",labelPosition:"before",backgroundColor:"#64DD17",labelColor:"#ffffff",buttonStyle:{width:"400px"},icon:a.createElement(s.ContentAddCircle,null)})),a.createElement(l.RaisedButton,{label:"Najnowsze piosenki",labelPosition:"before",backgroundColor:"#29B6F6",labelColor:"#ffffff",style:{marginTop:"10px"},buttonStyle:{width:"400px"},icon:a.createElement(s.AvNewReleases,null),onClick:function(){e.setState({isTimeOrdered:!0}),e.sortByDate(e.state.songs)}}),a.createElement(l.RaisedButton,{label:"Najbardziej lubiane piosenki",labelPosition:"before",backgroundColor:"#D32F2F",labelColor:"#ffffff",style:{marginTop:"10px"},buttonStyle:{width:"400px"},icon:a.createElement(s.ActionFavorite,null),onClick:function(){e.setState({isTimeOrdered:!1}),e.sortByScore(e.state.songs)}}),a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"600px",marginTop:"20px"}},this.state.songs.map(function(t){return a.createElement("div",{style:{marginBottom:"20px"}},a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"600px",marginTop:"20px"}},a.createElement("div",{style:{marginRight:"20px"}},a.createElement(l.RaisedButton,{icon:a.createElement(s.SocialMoodBad,null),style:{width:"80px"},backgroundColor:"#D32F2F",labelColor:"#ffffff",onClick:function(){return e.downvote(t.id)}}),a.createElement("div",{style:{width:"88px",textAlign:"center",color:"#D32F2F",fontWeight:"bold",marginTop:"5px"}},t.downVotes)),a.createElement("div",null,a.createElement(d.default,{videoId:t.link,opts:e.opts}),a.createElement("b",null,t.uploader),a.createElement("span",{style:{float:"right"}},p(t.uploadDate).add(1,"hours").format("DD MMMM, HH:mm"))),a.createElement("div",{style:{marginLeft:"20px"}},a.createElement(l.RaisedButton,{icon:a.createElement(s.SocialMood,null),style:{width:"80px"},backgroundColor:"#64DD17",labelColor:"#ffffff",onClick:function(){return e.upvote(t.id)}}),a.createElement("div",{style:{width:"88px",textAlign:"center",color:"#64DD17",fontWeight:"bold",marginTop:"5px"}},t.upVotes))))})))},Videos}(a.Component));t.Videos=h}},[407]);